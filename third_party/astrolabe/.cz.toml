[tool.commitizen]
name = "cz_conventional_commits"
version = "0.3.2"
tag_format = "astrolabe-v$version"
version_scheme = "semver"
update_changelog_on_bump = true
major_version_zero = true

# Update Astrolabe-specific files only
version_files = [
    "appinfo/info.xml:<version>",
    "package.json:version"
]

# Ignore tags from other components
ignored_tag_formats = [
    "v*",                      # MCP server tags
    "nextcloud-mcp-server-*",  # Helm chart tags
]

# Filter commits by scope
[tool.commitizen.customize]
changelog_pattern = "^(feat|fix|docs|refactor|perf|test|build|ci|chore)\\(astrolabe\\)(!)?:"
schema_pattern = "^(feat|fix|docs|refactor|perf|test|build|ci|chore)\\(astrolabe\\)(!)?:\\s.+"
message_template = "{{change_type}}(astrolabe): {{message}}"
